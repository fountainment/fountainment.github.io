<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CherrySoda Engine: CherrySoda Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CherrySoda Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CherrySoda Engine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__Users_shenyiwen_Documents_Projects_cherrysoda_engine_README"></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/windows.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/windows.yml/badge.svg" alt="Windows" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/linux.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/linux.yml/badge.svg" alt="Linux" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/macos.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/macos.yml/badge.svg" alt="MacOS" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/emscripten.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/emscripten.yml/badge.svg" alt="Emscripten" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/blob/master/LICENSE"><img src="https://img.shields.io/github/license/fountainment/cherrysoda-engine" alt="Licence" class="inline"/></a></p>
<p >A lightweight cross-platform C++ game engine based on bgfx and SDL2</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p >CherrySoda engine is a C++ port of Monocle engine, with some changes and additional functionalities.</p>
<p >In 2018, I tried using Monocle engine (the engine of the game Celeste) which is written in C#. Its design is quite simple and handy for making 2d sprite game, so I wish like to combine it with my previous C++ cross-platform experience.</p>
<p >This engine ported most parts of Monocle engine to C++, and added some useful features like simple audio playback. Command console UI are rewritten in ImGui with a parameter tweaking slider. And some minor changes are made in order to get 3d capability, but this engine is still mainly for 2d.</p>
<p >It's a hobby project, and tbh, the code quality is not very good for the moment, but it's basically ok to be used in some small 2d games, I used it to participate in several gamejams.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Screenshots</h1>
<p ><img src="https://user-images.githubusercontent.com/8925165/158010302-c24ca486-272c-4a51-9d42-e3904b696c00.png" alt="image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Demos</h1>
<p ><a href="https://fountainment.github.io/demo/">https://fountainment.github.io/demo/</a></p>
<p >Demo source:</p><ul>
<li><a href="https://github.com/fountainment/bullethelljam2021-bullethelltrial">BulletHellJam2021_BulletHellTrial</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
API Document</h1>
<p ><a href="https://fountainment.github.io/doc/">https://fountainment.github.io/doc/</a></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Pros and Cons</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Pros</h2>
<ul>
<li>Core engine code is less than 20k lines, so, build time will be short, and build size will be small</li>
<li>The sprite animation import can be fully data driven and is very handy imo</li>
<li>The BitTag utility makes rendering and collision logic coding very intuitive</li>
<li>Some tedious workflow processes are handled by python script</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Cons</h2>
<ul>
<li>This engine only support a very limitted amount of features (see Current Features)</li>
<li>There is no scripting support, all game coding needs to be done in C++</li>
<li>The memory management is not done elegantly at the moment</li>
<li>This engine requires the user to be comfortable with command-line workflow</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Current Features</h1>
<ul>
<li>Features Ported from Monocle Engine:<ul>
<li>Entity-Component System</li>
<li>2D Sprite Animation System (very handy imo)</li>
<li>Tag-Based Renderer</li>
<li>Tag-Based 2D Collision Detection</li>
<li>2D Camera</li>
<li>Tile-Based Game Utilities (TileSet, TileGrid, Grid)</li>
<li>BMFont File Loading and Pixel Font Rendering</li>
<li>2D CPU Particle System</li>
<li>Ease Functions</li>
<li>Some Useful Components (Alarm, StateMachine, Tween, ...)</li>
</ul>
</li>
<li>Tools:<ul>
<li>crunch (a texture packer) (modified) (MIT Licence)</li>
<li>sfxr (an 8-bit sound effect generator) (ported) (MIT Licence)</li>
<li>A Particle Effect Editor</li>
</ul>
</li>
<li>BGFX Integrated for Cross-Platform Graphics Rendering</li>
<li>SDL2 Integrated for Cross-Platform Window and Audio</li>
<li>GLM Intergrated for Math</li>
<li>STB Intergrated (for now only) for OGG Audio File Loading</li>
<li>ImGui Integrated for Engine GUI</li>
<li>TracyProfiler Integrated for Profiling</li>
<li>RapidJSON Integrated for JSON Parsing</li>
<li>TinyXML2 Integrated for XML Parsing</li>
<li>GoogleTest Integrated for Testing</li>
<li>CMixer Integrated for Audio Mixing</li>
<li>Cgltf Integrated for GLTF Model File Loading</li>
<li>Simple Audio Playback (support wav and ogg loading)</li>
<li>Mesh and MeshGraphicsComponent</li>
<li>SIMD Compile Option</li>
<li>HTML5 Support</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Contribution</h1>
<p >At current stage, the top priority is to make this engine more robust and more handy.</p>
<p >So, please don't hesitate to create a pull request if you saw something wrong in the engine.</p>
<p >And if you encounter any problem or inconvenience when using this engine,</p>
<p >you can create an issue, then I might be able to help you.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Requirements</h1>
<ul>
<li>CMake &gt;=3.12</li>
<li>Python &gt;=3.6</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
Linux</h2>
<ul>
<li>GCC &gt;=5.2 or Clang &gt;=3.4</li>
<li>libSDL2-dev</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Windows</h2>
<ul>
<li>Visual Studio &gt;=2017 or MinGW(GCC &gt;= 5.2)</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
MacOS</h2>
<ul>
<li>brew install sdl2</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
How to Build</h1>
<div class="fragment"><div class="line"># How to build executable</div>
<div class="line">git clone https://github.com/fountainment/cherrysoda-engine.git</div>
<div class="line">cd cherrysoda-engine</div>
<div class="line">cmake -E make_directory build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">cmake --build . --config Release --parallel 8</div>
</div><!-- fragment --><div class="fragment"><div class="line"># How to build webassembly</div>
<div class="line">git clone https://github.com/emscripten-core/emsdk.git</div>
<div class="line">./emsdk/emsdk install latest</div>
<div class="line">./emsdk/emsdk activate latest</div>
<div class="line">source ./emsdk/emsdk_env.sh</div>
<div class="line">git clone https://github.com/fountainment/cherrysoda-engine.git</div>
<div class="line">cd cherrysoda-engine</div>
<div class="line">cmake -E make_directory build</div>
<div class="line">cd build</div>
<div class="line">emcmake cmake ..</div>
<div class="line">cmake --build . --config Release --parallel 8</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
How to Create Project</h1>
<p >Use Tools/create_project.py, it will copy the project template and do some string replacement.</p>
<p >For example:</p>
<div class="fragment"><div class="line">cd Playground</div>
<div class="line">python3 ../Tools/create_projects.py HelloWorld</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
How to Do Performance Profiling with Tracy Profiler</h1>
<p >First, clone the tracy profiler and put the tracy folder into "Engine" directory:</p>
<div class="fragment"><div class="line">cd Engine</div>
<div class="line">git clone https://github.com/wolfpld/tracy.git</div>
</div><!-- fragment --><p >In this engine, profiling that use tracy profiler is only enabled in "Profile" build:</p>
<p >(for Visual Studio and Xcode, it's the "RelWithDebInfo" build option)</p>
<div class="fragment"><div class="line"># Profile build on Linux</div>
<div class="line">mkdir build_profile</div>
<div class="line">cd build_profile</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Profile</div>
<div class="line">make -j8</div>
</div><!-- fragment --><p >Then you can use tracy profiler to monitor performance.</p>
<div class="fragment"><div class="line"># How to build tracy profiler on Linux</div>
<div class="line">git clone https://github.com/wolfpld/tracy.git</div>
<div class="line">cd tracy/profiler/build/unix/</div>
<div class="line">make -j8</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Tips</h1>
<h2><a class="anchor" id="autotoc_md18"></a>
To Use The Sublime Project</h2>
<p >You need to install the CMakeBuilder plugin first.</p>
<p >And it's recommended to use <code>git update-index --assume-unchanged cherrysoda.sublime-project</code> to ignore project file change locally.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
To Pack Texture Atlas</h2>
<p >First, you need to build "Tools/crunch".</p>
<p >And if you did use "create_project.py" to create a project, you will see a "pack_atlas.py" in project folder.</p>
<p >Create a folder called "textures" in your project folder,</p>
<p >put your textures into it, and then <code>python3 pack_atlas.py</code>.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
To Enable SIMD</h2>
<p >You need to add somthing like <code>-DCHERRYSODA_USE_XXXX=1</code> with cmake command.</p>
<p >Currently, available options are "SSE2" "SSE42" "AVX2" and "NEON".</p>
<p >For example, <code>cmake .. -DCHERRYSODA_USE_SSE2=1</code> will enable SSE2.</p>
<p >You can use Bench/MathBench to see how glm's performance changes.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
To Build on Specific Device</h2>
<p >Curently, there are cmake options provided for these devices:</p>
<p >PocketCHIP: <code>cmake .. -DCHIP=1</code></p>
<p >GameShell: <code>cmake .. -DCPI=1</code></p>
<h2><a class="anchor" id="autotoc_md22"></a>
To Use Shader Compiler</h2>
<p >Prebuilt shaderc binary are available on x86_64-Windows and x86_64-Linux.</p>
<p >If you want or have to build shader compiler on your own, you can add <code>-DCHERRYSODA_BUILD_SHADERC=1</code> with cmake command.</p>
<p >You can also copy the shaderc binary from bgfx build, copy to "Tools/bin/shaderc.local" (add .exe suffix on Windows).</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Licence</h1>
<div class="fragment"><div class="line">MIT License</div>
<div class="line"> </div>
<div class="line">Copyright (c) 2019-2022 C.Even</div>
<div class="line"> </div>
<div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy</div>
<div class="line">of this software and associated documentation files (the &quot;Software&quot;), to deal</div>
<div class="line">in the Software without restriction, including without limitation the rights</div>
<div class="line">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div>
<div class="line">copies of the Software, and to permit persons to whom the Software is</div>
<div class="line">furnished to do so, subject to the following conditions:</div>
<div class="line"> </div>
<div class="line">The above copyright notice and this permission notice shall be included in all</div>
<div class="line">copies or substantial portions of the Software.</div>
<div class="line"> </div>
<div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div>
<div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div>
<div class="line">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div>
<div class="line">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div>
<div class="line">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div>
<div class="line">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</div>
<div class="line">SOFTWARE.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24"></a>
Licence of Monocle Engine</h1>
<div class="fragment"><div class="line">  m o n O c l e</div>
<div class="line"> </div>
<div class="line">   e n g i n e</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">Copyright (c) 2012-2014 Matt Thorson</div>
<div class="line"> </div>
<div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy</div>
<div class="line">of this software and associated documentation files (the &quot;Software&quot;), to deal</div>
<div class="line">in the Software without restriction, including without limitation the rights</div>
<div class="line">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div>
<div class="line">copies of the Software, and to permit persons to whom the Software is</div>
<div class="line">furnished to do so, subject to the following conditions:</div>
<div class="line"> </div>
<div class="line">The above copyright notice and this permission notice shall be included in</div>
<div class="line">all copies or substantial portions of the Software.</div>
<div class="line"> </div>
<div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div>
<div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div>
<div class="line">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div>
<div class="line">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div>
<div class="line">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div>
<div class="line">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</div>
<div class="line">THE SOFTWARE.</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
