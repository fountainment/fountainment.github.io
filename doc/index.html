<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CherrySoda Engine: CherrySoda Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CherrySoda Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CherrySoda Engine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__home_even_Projects_cherrysoda_engine_README"></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/windows.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/windows.yml/badge.svg" alt="Windows" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/linux.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/linux.yml/badge.svg" alt="Linux" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/macos.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/macos.yml/badge.svg" alt="MacOS" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/actions/workflows/emscripten.yml"><img src="https://github.com/fountainment/cherrysoda-engine/actions/workflows/emscripten.yml/badge.svg" alt="Emscripten" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fountainment/cherrysoda-engine/blob/master/LICENSE"><img src="https://img.shields.io/github/license/fountainment/cherrysoda-engine" alt="Licence" class="inline"/></a></p>
<p >A lightweight cross-platform C++ game engine based on bgfx and SDL2 (inspired by Monocle engine)</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p >This is an engine that I made for anticipating gamejam.</p>
<p >In 2018, I tried using Monocle engine (the engine of the game Celeste) which is written in C#. Its design is quite simple and handy, then I think if I can use it to make game for different platforms.</p>
<p >The result is this engine, it inherited most of the design from Monocle engine, and added some useful features. I have to admit that the port quality is not very good, anyway, after a few gamejams, it's basically usable now.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Demos</h1>
<p ><a href="https://fountainment.github.io/demo/">https://fountainment.github.io/demo/</a></p>
<p ><a href="https://fountainment.gitee.io/">https://fountainment.gitee.io/</a> (use this link if github.io is slow in your region)</p>
<p >Demo source:</p><ul>
<li><a href="https://github.com/fountainment/bullethelljam2021-bullethelltrial">BulletHellJam2021_BulletHellTrial</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
API Document</h1>
<p ><a href="https://fountainment.github.io/doc/">https://fountainment.github.io/doc/</a></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Pros and Cons</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
Pros</h2>
<ul>
<li>The engine code is less than 20k lines, which means it only take a very limitted time to read through</li>
<li>And it's not too time consuming to build this engine on low-end devices like PocketCHIP and GameShell (sometimes the cross compiling environment is hard to establish)</li>
<li>The webassembly build size can be very small (mininal around 2 MB), so it will load fast on web</li>
<li>Some tedious workflow processes are handled by python script</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Cons</h2>
<ul>
<li>This engine only support a very limitted amount of features (see Current Features)</li>
<li>There is no scripting support, all game coding needs to be done in C++</li>
<li>The memory management is not done well at the moment</li>
<li>This engine requires the user to be comfortable with command-line workflow</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Current Features</h1>
<ul>
<li>BGFX Integrated for Cross-Platform Graphics Rendering</li>
<li>SDL2 Integrated for Cross-Platform Window and Audio</li>
<li>GLM Intergrated for Math</li>
<li>STB Intergrated (for now only) for OGG Audio File Loading</li>
<li>ImGui Integrated for Engine GUI</li>
<li>TracyProfiler Integrated for Profiling</li>
<li>RapidJSON Integrated for JSON Parsing</li>
<li>TinyXML2 Integrated for XML Parsing</li>
<li>CMixer Integrated for Audio Mixing</li>
<li>Cgltf Integrated for gltf model loading</li>
<li>GoogleTest Integrated for Testing</li>
<li>Simple Entity-Component System</li>
<li>Simple Sprite System (quite handy imo)</li>
<li>Minimalism 2D Collision Detection (too simple but useful in common situations)</li>
<li>BMFont File Loading and Pixel Font Rendering</li>
<li>Simple 2D Particle System (with a particle editor)</li>
<li>Audio Play (support wav and ogg loading)</li>
<li>SIMD Compile Option</li>
<li>HTML5 Support</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Contribution</h1>
<p >Feature requests and pull requests are welcome, but don't expect the response to be very quick.</p>
<p >The top priority is to make this engine more robust and more handy. So before putting too much work in pull request, please create an issue that we can discuss it first.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Requirements</h1>
<ul>
<li>CMake &gt;=3.12</li>
<li>Python &gt;=3.6</li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
Linux</h2>
<ul>
<li>GCC &gt;=5.2 or Clang &gt;=3.4</li>
<li>libSDL2-dev</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
Windows</h2>
<ul>
<li>Visual Studio &gt;=2017</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
MacOS</h2>
<ul>
<li>brew install sdl2</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
How to Build</h1>
<div class="fragment"><div class="line"># Native on Linux, Windows or MacOS</div>
<div class="line">git clone https://github.com/fountainment/cherrysoda-engine.git</div>
<div class="line">cd cherrysoda-engine</div>
<div class="line">cmake -E make_directory build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">cmake --build . --config Release</div>
</div><!-- fragment --><div class="fragment"><div class="line"># Web Assembly on Linux or MacOS</div>
<div class="line">git clone https://github.com/emscripten-core/emsdk.git</div>
<div class="line">./emsdk/emsdk install latest</div>
<div class="line">./emsdk/emsdk activate latest</div>
<div class="line">source ./emsdk/emsdk_env.sh</div>
<div class="line">git clone https://github.com/fountainment/cherrysoda-engine.git</div>
<div class="line">cd cherrysoda-engine</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">emcmake cmake ..</div>
<div class="line">make -j8</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
How to Do Performance Profiling with Tracy Profiler</h2>
<p >First, clone the tracy profiler and put the tracy folder into "Engine" directory:</p>
<div class="fragment"><div class="line">cd Engine</div>
<div class="line">git clone https://github.com/wolfpld/tracy.git</div>
</div><!-- fragment --><p >In this engine, profiling that use tracy profiler is only enabled in "Profile" build:</p>
<p >(for Visual Studio and Xcode, it's the "RelWithDebInfo" build option)</p>
<div class="fragment"><div class="line"># Profile build on Linux</div>
<div class="line">mkdir build_profile</div>
<div class="line">cd build_profile</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Profile</div>
<div class="line">make -j8</div>
</div><!-- fragment --><p >Then you can use tracy profiler to monitor performance.</p>
<div class="fragment"><div class="line"># How to build tracy profiler on Linux</div>
<div class="line">git clone https://github.com/wolfpld/tracy.git</div>
<div class="line">cd tracy/profiler/build/unix/</div>
<div class="line">make -j8</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
How to Create Project</h2>
<p >Use Tools/create_project.py, it will copy the project template and do some string replacement.</p>
<p >For example:</p>
<div class="fragment"><div class="line">cd Playground</div>
<div class="line">python3 ../Tools/create_projects.py HelloWorld</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Tips</h1>
<h2><a class="anchor" id="autotoc_md17"></a>
To Use The Sublime Project</h2>
<p >You need to install the CMakeBuilder plugin first</p>
<h2><a class="anchor" id="autotoc_md18"></a>
To Pack Texture Atlas</h2>
<p >First, you need to build "Tools/crunch".</p>
<p >And if you did use "create_project.py" to create a project, you will see a "pack_atlas.py" in project folder.</p>
<p >Create a folder called "textures" in your project folder,</p>
<p >put your textures into it, and then <code>python3 pack_atlas.py</code>.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
To Enable SIMD</h2>
<p >You need to add somthing like <code>-DCHERRYSODA_USE_XXXX=1</code> with cmake.</p>
<p >Currently, available options are "SSE2" "SSE42" "AVX2" and "NEON".</p>
<p >For example, <code>cmake .. -DCHERRYSODA_USE_SSE2=1</code> will enable SSE2.</p>
<p >You can use Bench/MathBench to see how glm's performance changes.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
To Build on Specific Device</h2>
<p >Curently, there are cmake options provided for these devices:</p>
<p >PocketCHIP: <code>cmake .. -DCHIP=1</code></p>
<p >GameShell: <code>cmake .. -DCPI=1</code></p>
<h2><a class="anchor" id="autotoc_md21"></a>
To Use Shader Compiler on Non-x86_64 Platform</h2>
<p >You need to add <code>-DCHERRYSODA_BUILD_SHADERC=1</code> with cmake.</p>
<h1><a class="anchor" id="autotoc_md22"></a>
Licence</h1>
<div class="fragment"><div class="line">MIT License</div>
<div class="line"> </div>
<div class="line">Copyright (c) 2019-2022 C.Even</div>
<div class="line"> </div>
<div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy</div>
<div class="line">of this software and associated documentation files (the &quot;Software&quot;), to deal</div>
<div class="line">in the Software without restriction, including without limitation the rights</div>
<div class="line">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div>
<div class="line">copies of the Software, and to permit persons to whom the Software is</div>
<div class="line">furnished to do so, subject to the following conditions:</div>
<div class="line"> </div>
<div class="line">The above copyright notice and this permission notice shall be included in all</div>
<div class="line">copies or substantial portions of the Software.</div>
<div class="line"> </div>
<div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div>
<div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div>
<div class="line">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div>
<div class="line">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div>
<div class="line">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div>
<div class="line">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</div>
<div class="line">SOFTWARE.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
Licence of Monocle Engine</h1>
<div class="fragment"><div class="line">  m o n O c l e</div>
<div class="line"> </div>
<div class="line">   e n g i n e</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">Copyright (c) 2012-2014 Matt Thorson</div>
<div class="line"> </div>
<div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy</div>
<div class="line">of this software and associated documentation files (the &quot;Software&quot;), to deal</div>
<div class="line">in the Software without restriction, including without limitation the rights</div>
<div class="line">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div>
<div class="line">copies of the Software, and to permit persons to whom the Software is</div>
<div class="line">furnished to do so, subject to the following conditions:</div>
<div class="line"> </div>
<div class="line">The above copyright notice and this permission notice shall be included in</div>
<div class="line">all copies or substantial portions of the Software.</div>
<div class="line"> </div>
<div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div>
<div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div>
<div class="line">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div>
<div class="line">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div>
<div class="line">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div>
<div class="line">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</div>
<div class="line">THE SOFTWARE.</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
